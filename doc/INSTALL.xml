<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE readme SYSTEM "readme.dtd" [

<!ENTITY % common SYSTEM "common.xml">
%common;

<!ENTITY m "<em>PXP</em>">

]>

<readme title="INSTALL - PXP, the XML parser for O'Caml">
  <sect1><title>The "pxp" package</title>
    <sect2><title>Prerequisites</title>
      <p>
&m; does not need any other packages besides the O'Caml core. &m; works
only with O'Caml 3.00 (the support for 2.04 has been dropped).
The installation
procedure defined in the Makefile requires <a
href="&url.findlib-project;">findlib</a> to work<footnote><em>Findlib</em> is a
package manager, see the file ABOUT-FINDLIB.</footnote>.
</p>
    </sect2>

    <sect2><title>Configuration</title>
      <p>
It is not necessary to configure PXP.
</p>
    </sect2>

    <sect2><title>Compilation</title>
      <p>
The Makefile defines the following goals:
</p>
      <ul>
	<li>
	  <p>make all</p>
	  <p>compiles with the bytecode compiler and creates markup.cma</p>
	</li>
	<li>
	  <p>make opt</p>
	  <p>compiles with the native compiler and creates markup.cmxa</p>
	</li>
      </ul>
    </sect2>

    <sect2><title>Installation</title>
      <p>
The Makefile defines the following goal:</p>
      <ul>
	<li>
	  <p>make install</p>
	  <p>installs the bytecode archive, the interface definitions, and if
present, the native archive in the default location of <em>findlib</em>
</p>
	</li>
	<li>
	  <p>make uninstall</p>
	  <p>removes the package</p>
	</li>
      </ul>
    </sect2>
  </sect1>

  <sect1><title>The examples</title>
    <p>
In the "examples" directory you find several applications of &m;. They require
that &m; has been installed using <em>findlib</em>. See the Makefiles in the
directories for descriptions of "make" goals.
</p>
  </sect1>

  <sect1><title>Trouble shooting</title>
    <sect2><title>Solaris</title>
      <p>
The "make" utility of Solaris does not work properly enough; there is a bug
in it that prevents the so-called suffix rules from being recognized. There
are two solutions:</p>
      <ul>
	<li><p>Install GNU make and use it instead of Solaris make. This is
the recommended way to solve the problem, as GNU make can process almost
every Makefile from open source projects, and you will never have problems
with building software again.</p></li>
	<li><p>Add the following lines to Makefile.code:
	  <code>
%.cmx: %.ml
        $(OCAMLOPT) -c $&lt;

%.cmo: %.ml
        $(OCAMLC) -c $&lt;

%.cmi: %.mli
        $(OCAMLC) -c $&lt;

%.ml: %.mll
        ocamllex $&lt;
</code>
</p></li>
      </ul>
      <p>Note that in earlier versions of PXP/Markup than 0.2.3 there was a
second problem with Solaris (and other System V systems) which does not
allow ! in scripts executed by /bin/sh. Because of this, the ! command was 
removed from the scripts.
</p>
    </sect2>
  </sect1>
</readme>